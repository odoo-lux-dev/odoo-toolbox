@mixin button-base($pad-y: 8px,
    $pad-x: 10px,
    $font-size: 13px,
    $radius: 4px,
    $weight: 500) {
    padding: $pad-y $pad-x;
    border: none;
    border-radius: $radius;
    font-size: $font-size;
    font-weight: $weight;
    cursor: pointer;
    transition: all 0.2s ease;
}

@mixin button-outline($color, $hover-bg: $color, $hover-color: white) {
    background-color: transparent;
    color: $color;
    border: 1px solid $color !important;

    &:hover:not(:disabled) {
        background-color: $hover-bg;
        color: $hover-color;
        transform: translateY(-1px);
        box-shadow: var(--devtools-shadow);
    }
}

@mixin button-filled($bg, $color: white, $hover-bg: null) {
    background-color: $bg;
    color: $color;

    &:hover:not(:disabled) {
        background-color: if($hover-bg ==null, $bg, $hover-bg);
        transform: translateY(-1px);
        box-shadow: var(--devtools-shadow);
    }
}

@mixin icon-button($size: 24px,
    $font-size: 12px,
    $radius: 3px) {
    background: none;
    border: none;
    color: var(--devtools-text-muted);
    cursor: pointer;
    padding: 0;
    border-radius: $radius;
    transition: all 0.2s ease;
    width: $size;
    height: $size;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: $font-size;

    &:hover {
        color: var(--devtools-primary);
        background-color: var(--devtools-op-white-10);
        transform: translateY(-1px);
    }

    &:active {
        transform: translateY(0);
    }
}

@mixin panel($bg: var(--devtools-bg-secondary),
    $border-color: var(--devtools-border),
    $radius: 6px,
    $pad-y: 12px,
    $pad-x: 16px) {
    background-color: $bg;
    border: 1px solid $border-color;
    border-radius: $radius;
    padding: $pad-y $pad-x;
}

@mixin state-soft($color,
    $alpha-bg: 0.10,
    $alpha-border: 0.30,
    $r,
    $g,
    $b,
    $left-border: 0) {
    background-color: rgba($r, $g, $b, $alpha-bg);
    border: 1px solid rgba($r, $g, $b, $alpha-border);

    @if $left-border !=0 {
        border-left: $left-border solid $color;
    }

    border-radius: 6px;
}

@mixin editor-base($min-h: 160px) {
    flex: 1;
    resize: vertical;
    min-height: $min-h;
}

@mixin scroll-surface($border-color: var(--devtools-border),
    $radius: 6px) {
    border: 1px solid $border-color;
    border-radius: $radius;
    overflow: hidden;
}

@mixin pill($bg, $color: white, $radius: 4px, $py: 4px, $px: 8px, $fs: 12px) {
    background-color: $bg;
    color: $color;
    border-radius: $radius;
    padding: $py $px;
    font-size: $fs;
}

@mixin row-hover($hover-bg: var(--devtools-bg-secondary)) {
    transition: background-color 0.2s ease;

    &:hover {
        background-color: $hover-bg;
    }
}

@mixin sticky-top($z: 10, $bg: var(--devtools-bg-primary)) {
    position: sticky;
    top: 0;
    z-index: $z;
    background-color: $bg;
}

@mixin notification-action-button($bg-color, $text-color, $hover-bg-color, $border-color: null) {
    background: $bg-color;
    color: $text-color;

    @if $border-color {
        border: 1px solid $border-color;
    }

    &:hover {
        background: $hover-bg-color;

        @if $border-color {
            color: $text-color;
        }
    }
}

@mixin notification-action-button-outline($color, $hover-bg-color, $hover-text-color) {
    background: transparent;
    color: $color;
    border: 1px solid $color;

    &:hover {
        background: $hover-bg-color;
        color: $hover-text-color;
    }
}

@mixin notification-variant($accent, $accent-dark: null) {
    border-left: 4px solid $accent;

    .notification-progress {
        background: rgba-from($accent, 0.15) !important;
    }

    .notification-progress-bar {
        @if $accent-dark !=null {
            background: linear-gradient(90deg, $accent, $accent-dark) !important;
        }

        @else {
            background: linear-gradient(90deg, color-mix(in srgb, $accent 80%, black), $accent) !important;
        }
    }
}

@mixin focus-ring($color-rgba) {
    box-shadow: 0 0 0 3px $color-rgba;
}

@mixin focus-visible($ring-color) {
    &:focus-visible {
        outline: none;
        @include focus-ring($ring-color);
    }

    &:focus:not(:focus-visible) {
        box-shadow: none;
    }
}

@mixin disabled-state {
    opacity: 0.6;
    cursor: not-allowed;
    pointer-events: none;
}

@mixin ellipsis {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

@mixin banner-warning-soft($left: 4px) {
    @include state-soft(var(--devtools-warning-strong), 0.10, 0.30, 245, 158, 11, $left);

    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 10px 14px;
    margin-bottom: 12px;

    .warning-icon {
        display: flex;
        align-items: center;
        height: 100%;
        font-size: 18px;
        flex-shrink: 0;
        line-height: 1;
    }

    .warning-content {
        flex: 1;

        strong {
            color: var(--devtools-warning);
            font-size: 13px;
            font-weight: 600;
            display: block;
            margin-bottom: 3px;
        }

        p {
            margin: 0;
            font-size: 12px;
            line-height: 1.4;
            color: var(--devtools-text-secondary);
        }
    }
}

@mixin banner-error-soft($left: 0) {
    @include state-soft(var(--devtools-error-strong), 0.10, 0.30, 239, 68, 68, $left);
}
